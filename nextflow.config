params.outdir = params.outdir ?: 'results'

// Workflow provenance configuration
workflow {
    manifest {
        author = '0009-0003-3768-3781'
    }
}

// Enable nf-prov for WRROC support
prov {
    enabled = true
    formats {
        wrroc {
            enabled = true
            file = "${params.outdir}/provenance.crate.zip"
        }
    }
    overwrite = true
}

profiles {
    docker {
        docker.enabled = true
        process {
            container = 'ubuntu:22.04'
        }
    }

    awsbatch {
        process {
            executor = 'awsbatch'
            container = 'ubuntu:22.04'
        }
    }
}

// Default to docker for local runs
process {
    container = 'ubuntu:22.04'
}
